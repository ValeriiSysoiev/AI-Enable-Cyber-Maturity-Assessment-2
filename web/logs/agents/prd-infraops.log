==================================================
AGENT: InfraOps - Preflight Check Report
ENVIRONMENT: Production (web-cybermat-prd)
TIMESTAMP: 2025-08-19
==================================================

1. TOOL VERIFICATION
==================
✓ Node.js Version: v22.18.0
  - Status: COMPATIBLE (20.x+ required, 22.x detected)
  - Note: Local development environment has newer version than target runtime

✓ npm Version: 10.9.3
  - Status: OK

✓ Azure CLI Version: 2.76.0
  - Status: OK
  - Extensions: application-insights, containerapp, log-analytics, scheduled-query

2. AZURE SUBSCRIPTION INFO
=========================
✓ Subscription ID: 10233675-d493-4a97-9c81-4001e353a7bb
✓ Subscription Name: Azure subscription 1
✓ Tenant ID: 8354a4cc-cfd8-41e4-9416-ea0304bc62e1
✓ User: va.sysoiev@audit3a.com
✓ Status: Enabled

3. APP SERVICE CONFIG SNAPSHOT - PRODUCTION
==========================================
Resource Group: rg-cybermat-prd
App Service: web-cybermat-prd
Location: West Europe

RUNTIME CONFIGURATION:
- linuxFxVersion: NODE|20-lts ✓
- appCommandLine: node server.js ✓
- use32BitWorkerProcess: true
- httpLoggingEnabled: false → ENABLED
- detailedErrorLoggingEnabled: false
- alwaysOn: false (Basic tier limitation)

APP SETTINGS:
- PORT: 8080 ✓
- WEBSITES_PORT: 8080 ✓
- NODE_ENV: production ✓
- SCM_DO_BUILD_DURING_DEPLOYMENT: false ✓
- WEBSITE_NODE_DEFAULT_VERSION: 20-lts ✓
- NEXT_TELEMETRY_DISABLED: 1 ✓

SECURITY:
- minTlsVersion: 1.2 ✓
- ftpsState: FtpsOnly ✓
- publicNetworkAccess: Enabled
- IP Restrictions: Allow all (open access)

SCALING:
- numberOfWorkers: 1
- minimumElasticInstanceCount: 1
- elasticWebAppScaleLimit: 0

MANAGED IDENTITY:
- managedServiceIdentityId: 30938 ✓

4. LOGGING CONFIGURATION
=======================
✓ Application Logging: ENABLED (Information level, filesystem)
✓ HTTP Logs: ENABLED (filesystem, 3 days retention, 100MB limit)
- Detailed Error Messages: DISABLED
- Failed Request Tracing: DISABLED

5. ASSESSMENT SUMMARY
===================
STATUS: READY FOR DEPLOYMENT

STRENGTHS:
- Correct Node.js runtime (20-lts)
- Proper startup command configuration
- All required app settings present
- Logging successfully enabled
- TLS 1.2 enforced
- Managed Service Identity configured

PRODUCTION CONSIDERATIONS:
- Open IP access may pose security risk
- Consider upgrading to Standard tier for alwaysOn capability
- Basic tier has limited scaling options

DEPLOYMENT READINESS: ✅ GREEN

PRODUCTION SECURITY NOTES:
- Review and implement IP restrictions as needed
- Monitor application logs post-deployment
- Consider enabling Application Insights for comprehensive monitoring