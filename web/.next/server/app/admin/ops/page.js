(()=>{var e={};e.id=805,e.ids=[805],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18341:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o}),t(26733),t(56698),t(35866);var a=t(23191),r=t(88716),n=t(37922),l=t.n(n),i=t(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let o=["",{children:["admin",{children:["ops",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,26733)),"/Users/valsysoiev/AI-Enable-Cyber-Maturity-Assessment-2/web/app/admin/ops/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,56698)),"/Users/valsysoiev/AI-Enable-Cyber-Maturity-Assessment-2/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/valsysoiev/AI-Enable-Cyber-Maturity-Assessment-2/web/app/admin/ops/page.tsx"],x="/admin/ops/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/ops/page",pathname:"/admin/ops",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},22750:(e,s,t)=>{Promise.resolve().then(t.bind(t,15063))},15063:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(10326),r=t(17577),n=t(6824),l=t(22299),i=t(79682),d=t(2991);function o(){let[e,s]=(0,r.useState)("presets"),[t,o]=(0,r.useState)([]),[c,x]=(0,r.useState)(""),p=(0,i.QL)();async function m(){try{let e=await fetch(`${n.Sg}/presets`,{headers:(0,n.$V)()});if(!e.ok){x(`Failed to load presets: ${e.status}`);return}o(await e.json())}catch(e){x(`Error loading presets: ${e}`)}}async function u(e){e.preventDefault();let s=new FormData(e.currentTarget);try{let t=await fetch(`${n.Sg}/presets/upload`,{method:"POST",headers:{...(0,n.$V)()},body:s});if(!t.ok){let e=await t.text();x(`Upload failed: ${t.status} - ${e}`);return}let a=await t.json();x(`Uploaded: ${a.name} (${a.id})`),await m(),e.currentTarget.reset()}catch(e){x(`Upload error: ${e}`)}}return p.isLoading?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Loading..."})}):(0,d.GJ)()?(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Admin Operations"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("a",{href:"/admin/auth",className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 border",children:"Auth Diagnostics"}),a.jsx("a",{href:"/admin/gdpr",className:"px-3 py-1 text-sm bg-blue-50 text-blue-700 rounded hover:bg-blue-100 border border-blue-200",children:"GDPR Management"}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["User: ",p.user?.name," â€¢ Mode: ","aad"===p.mode.mode?"Azure AD":"Demo"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"presets",label:"Presets Management"},{id:"evidence",label:"Evidence Management"}].map(t=>a.jsx("button",{onClick:()=>s(t.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:t.label},t.id))})}),"presets"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("form",{onSubmit:u,className:"border rounded p-4 space-y-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Upload a preset JSON"}),a.jsx("input",{name:"file",type:"file",accept:"application/json",className:"border rounded p-2",required:!0}),a.jsx("button",{className:"px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600",type:"submit",children:"Upload"}),c&&a.jsx("div",{className:"text-sm",children:c})]}),(0,a.jsxs)("div",{className:"border rounded p-4",children:[a.jsx("div",{className:"font-medium mb-2",children:"Available Presets"}),(0,a.jsxs)("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-2",children:"Name"}),a.jsx("th",{className:"text-left py-2",children:"ID"}),a.jsx("th",{className:"text-left py-2",children:"Version"}),a.jsx("th",{className:"text-left py-2",children:"Counts (P/C/Q)"}),a.jsx("th",{className:"text-left py-2",children:"Source"}),a.jsx("th",{className:"text-left py-2",children:"Actions"})]})}),a.jsx("tbody",{children:t.map(e=>(0,a.jsxs)("tr",{className:"border-t",children:[a.jsx("td",{className:"py-2",children:e.name}),a.jsx("td",{className:"py-2 font-mono text-xs",children:e.id}),a.jsx("td",{className:"py-2",children:e.version}),(0,a.jsxs)("td",{className:"py-2",children:[e.counts.pillars,"/",e.counts.capabilities,"/",e.counts.questions]}),a.jsx("td",{className:"py-2",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${"bundled"===e.source?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:e.source})}),(0,a.jsxs)("td",{className:"py-2 space-x-2",children:[a.jsx("a",{className:"underline text-blue-600 hover:text-blue-800",href:`${n.Sg}/presets/${e.id}`,target:"_blank",rel:"noopener noreferrer",children:"Preview"}),a.jsx("button",{className:"underline text-gray-600 hover:text-gray-800",onClick:()=>navigator.clipboard.writeText(e.id),children:"Copy ID"})]})]},e.id))})]}),0===t.length&&a.jsx("div",{className:"text-gray-500 text-center py-4",children:"No presets available"})]})]}),"evidence"===e&&a.jsx(l.Z,{className:"max-w-2xl"})]}):a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-red-600",children:"Access denied. Admin privileges required."})})}},26733:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/valsysoiev/AI-Enable-Cyber-Maturity-Assessment-2/web/app/admin/ops/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,878,206,299],()=>t(18341));module.exports=a})();