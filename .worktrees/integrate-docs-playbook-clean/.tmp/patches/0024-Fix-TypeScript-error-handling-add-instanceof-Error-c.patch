From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Valerii Sysoiev <valsysoiev@gmail.com>
Date: Sat, 16 Aug 2025 17:27:34 -0600
Subject: [PATCH 24/90] Fix TypeScript error handling - add instanceof Error
 checks


diff --git a/web/lib/api.ts b/web/lib/api.ts
index 34cdf8aea645ab1dd53119d10cdfc5bdf257f9cd..42ce2ee6b53f8eda481dd7ae0396b6749bf7374a 100644
--- a/web/lib/api.ts
+++ b/web/lib/api.ts
@@ -51,7 +51,7 @@ export async function apiFetch(url: string, options: RequestInitWithTimeout = {}
   } catch (error) {
     clearTimeout(timeoutId);
     
-    if (error.name === 'AbortError') {
+    if (error instanceof Error && error.name === 'AbortError') {
       throw new Error('Request timeout - please try again');
     }
     
@@ -79,7 +79,7 @@ export async function fetchPreset(id: string) {
   } catch (error) {
     clearTimeout(timeoutId);
     
-    if (error.name === 'AbortError') {
+    if (error instanceof Error && error.name === 'AbortError') {
       console.error("Preset fetch timeout:", id);
       throw new Error('Request timeout - please try again');
     }
