[1;33m=== Live Release Pipeline ===[0m
Subscription: 10233675-d493-4a97-9c81-4001e353a7bb
Resource Group: rg-aaa-demo
ACR: acraaademo9lyu53
Log file: logs/reports/run-20250815-163029-release.log

[1;33m1. Setting subscription context...[0m
Git SHA: 8064b777
Build Time: 2025-08-15T22:30:29Z
App Version: 0.2.0
WARNING: The behavior of this command has been altered by the following extension: containerapp
WARNING: The behavior of this command has been altered by the following extension: containerapp
API URL: https://api-aaa-demo.bravewater-3d70a706.canadacentral.azurecontainerapps.io
Web URL: https://web-aaa-demo.bravewater-3d70a706.canadacentral.azurecontainerapps.io
[1;33m2. Building and pushing API image...[0m
Building API image: ai-maturity-api:v202508151630-8064b777
WARNING: Packing source code into tar to upload...
WARNING: Uploading archived source code from '/var/folders/zf/6z4j2b5x3hbcj3ntw022m4mr0000gn/T/build_archive_8ff38b51527343a58c64fe132a366572.tar.gz'...
WARNING: Sending context (139.093 KiB) to registry: acraaademo9lyu53...
WARNING: Queued a build with ID: cx2a
WARNING: Waiting for an agent...
2025/08/15 22:30:38 Downloading source code...
2025/08/15 22:30:39 Finished downloading source code
2025/08/15 22:30:39 Using acb_vol_ad41600d-22ee-44de-a0ed-bcced3ffd87b as the home volume
2025/08/15 22:30:39 Setting up Docker configuration...
2025/08/15 22:30:40 Successfully set up Docker configuration
2025/08/15 22:30:40 Logging in to registry: acraaademo9lyu53.azurecr.io
2025/08/15 22:30:40 Successfully logged into acraaademo9lyu53.azurecr.io
2025/08/15 22:30:40 Executing step ID: build. Timeout(sec): 28800, Working directory: '', Network: ''
2025/08/15 22:30:40 Scanning for dependencies...
2025/08/15 22:30:41 Successfully scanned dependencies
2025/08/15 22:30:41 Launching container with name: build
Sending build context to Docker daemon  585.2kB
Step 1/12 : FROM python:3.11-slim
3.11-slim: Pulling from library/python
396b1da7636e: Pulling fs layer
fcec5a125fd8: Pulling fs layer
a27cb4be7017: Pulling fs layer
1961ca026b04: Pulling fs layer
1961ca026b04: Waiting
fcec5a125fd8: Verifying Checksum
fcec5a125fd8: Download complete
a27cb4be7017: Verifying Checksum
a27cb4be7017: Download complete
1961ca026b04: Verifying Checksum
1961ca026b04: Download complete
396b1da7636e: Verifying Checksum
396b1da7636e: Download complete
396b1da7636e: Pull complete
fcec5a125fd8: Pull complete
a27cb4be7017: Pull complete
1961ca026b04: Pull complete
Digest: sha256:9e885f8239c31f8429448f933638dd13037c9119e2a362aeebdd37ec3bee7c85
Status: Downloaded newer image for python:3.11-slim
 ---> 2ba2e944f9cd
Step 2/12 : ARG GIT_SHA=unknown
 ---> Running in acd9690e7cbe
Removing intermediate container acd9690e7cbe
 ---> d4addc783214
Step 3/12 : ARG BUILD_TIME=unknown
 ---> Running in b4159bf3989d
Removing intermediate container b4159bf3989d
 ---> 1ce46734f7fb
Step 4/12 : ARG APP_VERSION=0.1.0
 ---> Running in a82a363a3540
Removing intermediate container a82a363a3540
 ---> 2d16e1ce379c
Step 5/12 : WORKDIR /workdir
 ---> Running in 7152265289a9
Removing intermediate container 7152265289a9
 ---> 04839e8f9bb9
Step 6/12 : ENV PYTHONDONTWRITEBYTECODE=1     PYTHONUNBUFFERED=1     PYTHONPATH=/workdir     GIT_SHA=${GIT_SHA}     BUILD_TIME=${BUILD_TIME}     APP_VERSION=${APP_VERSION}
 ---> Running in 4a5a80f0ca95
Removing intermediate container 4a5a80f0ca95
 ---> 8c0b7155b3f9
Step 7/12 : COPY requirements.txt .
 ---> 7274db5defe8
Step 8/12 : RUN pip install --no-cache-dir -r requirements.txt
 ---> Running in d4d3a4d10094
Collecting fastapi>=0.115 (from -r requirements.txt (line 1))
  Downloading fastapi-0.116.1-py3-none-any.whl.metadata (28 kB)
Collecting uvicorn>=0.30 (from uvicorn[standard]>=0.30->-r requirements.txt (line 2))
  Downloading uvicorn-0.35.0-py3-none-any.whl.metadata (6.5 kB)
Collecting sqlmodel>=0.0.16 (from -r requirements.txt (line 3))
  Downloading sqlmodel-0.0.24-py3-none-any.whl.metadata (10 kB)
Collecting pydantic>=2.7 (from pydantic[email]>=2.7->-r requirements.txt (line 4))
  Downloading pydantic-2.11.7-py3-none-any.whl.metadata (67 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 68.0/68.0 kB 61.5 MB/s eta 0:00:00
Collecting python-multipart>=0.0.6 (from -r requirements.txt (line 5))
  Downloading python_multipart-0.0.20-py3-none-any.whl.metadata (1.8 kB)
Collecting azure-storage-blob>=12.19 (from -r requirements.txt (line 6))
  Downloading azure_storage_blob-12.26.0-py3-none-any.whl.metadata (26 kB)
Collecting azure-identity>=1.17 (from -r requirements.txt (line 7))
  Downloading azure_identity-1.24.0-py3-none-any.whl.metadata (86 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 86.0/86.0 kB 46.6 MB/s eta 0:00:00
Collecting azure-cosmos>=4.5.0 (from -r requirements.txt (line 8))
  Downloading azure_cosmos-4.9.0-py3-none-any.whl.metadata (80 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 80.8/80.8 kB 403.0 MB/s eta 0:00:00
Collecting python-dotenv>=1.0 (from -r requirements.txt (line 9))
  Downloading python_dotenv-1.1.1-py3-none-any.whl.metadata (24 kB)
Collecting openai<2.0.0,>=1.30.0 (from -r requirements.txt (line 10))
  Downloading openai-1.99.9-py3-none-any.whl.metadata (29 kB)
Collecting pypdf>=4.2.0 (from -r requirements.txt (line 11))
  Downloading pypdf-6.0.0-py3-none-any.whl.metadata (7.1 kB)
Collecting python-docx>=1.1.2 (from -r requirements.txt (line 12))
  Downloading python_docx-1.2.0-py3-none-any.whl.metadata (2.0 kB)
Collecting requests (from -r requirements.txt (line 14))
  Downloading requests-2.32.4-py3-none-any.whl.metadata (4.9 kB)
Collecting python-jose[cryptography] (from -r requirements.txt (line 13))
  Downloading python_jose-3.5.0-py2.py3-none-any.whl.metadata (5.5 kB)
Collecting starlette<0.48.0,>=0.40.0 (from fastapi>=0.115->-r requirements.txt (line 1))
  Downloading starlette-0.47.2-py3-none-any.whl.metadata (6.2 kB)
Collecting typing-extensions>=4.8.0 (from fastapi>=0.115->-r requirements.txt (line 1))
  Downloading typing_extensions-4.14.1-py3-none-any.whl.metadata (3.0 kB)
Collecting click>=7.0 (from uvicorn>=0.30->uvicorn[standard]>=0.30->-r requirements.txt (line 2))
  Downloading click-8.2.1-py3-none-any.whl.metadata (2.5 kB)
Collecting h11>=0.8 (from uvicorn>=0.30->uvicorn[standard]>=0.30->-r requirements.txt (line 2))
  Downloading h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
Collecting SQLAlchemy<2.1.0,>=2.0.14 (from sqlmodel>=0.0.16->-r requirements.txt (line 3))
  Downloading sqlalchemy-2.0.43-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.6 kB)
Collecting annotated-types>=0.6.0 (from pydantic>=2.7->pydantic[email]>=2.7->-r requirements.txt (line 4))
  Downloading annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
Collecting pydantic-core==2.33.2 (from pydantic>=2.7->pydantic[email]>=2.7->-r requirements.txt (line 4))
  Downloading pydantic_core-2.33.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
Collecting typing-inspection>=0.4.0 (from pydantic>=2.7->pydantic[email]>=2.7->-r requirements.txt (line 4))
  Downloading typing_inspection-0.4.1-py3-none-any.whl.metadata (2.6 kB)
Collecting azure-core>=1.30.0 (from azure-storage-blob>=12.19->-r requirements.txt (line 6))
  Downloading azure_core-1.35.0-py3-none-any.whl.metadata (44 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 44.4/44.4 kB 289.3 MB/s eta 0:00:00
Collecting cryptography>=2.1.4 (from azure-storage-blob>=12.19->-r requirements.txt (line 6))
  Downloading cryptography-45.0.6-cp311-abi3-manylinux_2_34_x86_64.whl.metadata (5.7 kB)
Collecting isodate>=0.6.1 (from azure-storage-blob>=12.19->-r requirements.txt (line 6))
  Downloading isodate-0.7.2-py3-none-any.whl.metadata (11 kB)
Collecting msal>=1.30.0 (from azure-identity>=1.17->-r requirements.txt (line 7))
  Downloading msal-1.33.0-py3-none-any.whl.metadata (11 kB)
Collecting msal-extensions>=1.2.0 (from azure-identity>=1.17->-r requirements.txt (line 7))
  Downloading msal_extensions-1.3.1-py3-none-any.whl.metadata (7.8 kB)
Collecting anyio<5,>=3.5.0 (from openai<2.0.0,>=1.30.0->-r requirements.txt (line 10))
  Downloading anyio-4.10.0-py3-none-any.whl.metadata (4.0 kB)
Collecting distro<2,>=1.7.0 (from openai<2.0.0,>=1.30.0->-r requirements.txt (line 10))
  Downloading distro-1.9.0-py3-none-any.whl.metadata (6.8 kB)
Collecting httpx<1,>=0.23.0 (from openai<2.0.0,>=1.30.0->-r requirements.txt (line 10))
  Downloading httpx-0.28.1-py3-none-any.whl.metadata (7.1 kB)
Collecting jiter<1,>=0.4.0 (from openai<2.0.0,>=1.30.0->-r requirements.txt (line 10))
  Downloading jiter-0.10.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.2 kB)
Collecting sniffio (from openai<2.0.0,>=1.30.0->-r requirements.txt (line 10))
  Downloading sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
Collecting tqdm>4 (from openai<2.0.0,>=1.30.0->-r requirements.txt (line 10))
  Downloading tqdm-4.67.1-py3-none-any.whl.metadata (57 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.7/57.7 kB 167.0 MB/s eta 0:00:00
Collecting lxml>=3.1.0 (from python-docx>=1.1.2->-r requirements.txt (line 12))
  Downloading lxml-6.0.0-cp311-cp311-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl.metadata (6.6 kB)
Collecting ecdsa!=0.15 (from python-jose[cryptography]->-r requirements.txt (line 13))
  Downloading ecdsa-0.19.1-py2.py3-none-any.whl.metadata (29 kB)
Collecting rsa!=4.1.1,!=4.4,<5.0,>=4.0 (from python-jose[cryptography]->-r requirements.txt (line 13))
  Downloading rsa-4.9.1-py3-none-any.whl.metadata (5.6 kB)
Collecting pyasn1>=0.5.0 (from python-jose[cryptography]->-r requirements.txt (line 13))
  Downloading pyasn1-0.6.1-py3-none-any.whl.metadata (8.4 kB)
Collecting charset_normalizer<4,>=2 (from requests->-r requirements.txt (line 14))
  Downloading charset_normalizer-3.4.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (36 kB)
Collecting idna<4,>=2.5 (from requests->-r requirements.txt (line 14))
  Downloading idna-3.10-py3-none-any.whl.metadata (10 kB)
Collecting urllib3<3,>=1.21.1 (from requests->-r requirements.txt (line 14))
  Downloading urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
Collecting certifi>=2017.4.17 (from requests->-r requirements.txt (line 14))
  Downloading certifi-2025.8.3-py3-none-any.whl.metadata (2.4 kB)
Collecting email-validator>=2.0.0 (from pydantic[email]>=2.7->-r requirements.txt (line 4))
  Downloading email_validator-2.2.0-py3-none-any.whl.metadata (25 kB)
Collecting httptools>=0.6.3 (from uvicorn[standard]>=0.30->-r requirements.txt (line 2))
  Downloading httptools-0.6.4-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.6 kB)
Collecting pyyaml>=5.1 (from uvicorn[standard]>=0.30->-r requirements.txt (line 2))
  Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)
Collecting uvloop>=0.15.1 (from uvicorn[standard]>=0.30->-r requirements.txt (line 2))
  Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
Collecting watchfiles>=0.13 (from uvicorn[standard]>=0.30->-r requirements.txt (line 2))
  Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
Collecting websockets>=10.4 (from uvicorn[standard]>=0.30->-r requirements.txt (line 2))
  Downloading websockets-15.0.1-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
Collecting six>=1.11.0 (from azure-core>=1.30.0->azure-storage-blob>=12.19->-r requirements.txt (line 6))
  Downloading six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
Collecting cffi>=1.14 (from cryptography>=2.1.4->azure-storage-blob>=12.19->-r requirements.txt (line 6))
  Downloading cffi-1.17.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (1.5 kB)
Collecting dnspython>=2.0.0 (from email-validator>=2.0.0->pydantic[email]>=2.7->-r requirements.txt (line 4))
  Downloading dnspython-2.7.0-py3-none-any.whl.metadata (5.8 kB)
Collecting httpcore==1.* (from httpx<1,>=0.23.0->openai<2.0.0,>=1.30.0->-r requirements.txt (line 10))
  Downloading httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)
Collecting PyJWT<3,>=1.0.0 (from PyJWT[crypto]<3,>=1.0.0->msal>=1.30.0->azure-identity>=1.17->-r requirements.txt (line 7))
  Downloading PyJWT-2.10.1-py3-none-any.whl.metadata (4.0 kB)
Collecting greenlet>=1 (from SQLAlchemy<2.1.0,>=2.0.14->sqlmodel>=0.0.16->-r requirements.txt (line 3))
  Downloading greenlet-3.2.4-cp311-cp311-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl.metadata (4.1 kB)
Collecting pycparser (from cffi>=1.14->cryptography>=2.1.4->azure-storage-blob>=12.19->-r requirements.txt (line 6))
  Downloading pycparser-2.22-py3-none-any.whl.metadata (943 bytes)
Downloading fastapi-0.116.1-py3-none-any.whl (95 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 95.6/95.6 kB 287.8 MB/s eta 0:00:00
Downloading uvicorn-0.35.0-py3-none-any.whl (66 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 66.4/66.4 kB 308.8 MB/s eta 0:00:00
Downloading sqlmodel-0.0.24-py3-none-any.whl (28 kB)
Downloading pydantic-2.11.7-py3-none-any.whl (444 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 444.8/444.8 kB 113.3 MB/s eta 0:00:00
Downloading pydantic_core-2.33.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 208.8 MB/s eta 0:00:00
Downloading python_multipart-0.0.20-py3-none-any.whl (24 kB)
Downloading azure_storage_blob-12.26.0-py3-none-any.whl (412 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 412.9/412.9 kB 453.6 MB/s eta 0:00:00
Downloading azure_identity-1.24.0-py3-none-any.whl (187 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 187.9/187.9 kB 408.5 MB/s eta 0:00:00
Downloading azure_cosmos-4.9.0-py3-none-any.whl (303 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 303.2/303.2 kB 410.4 MB/s eta 0:00:00
Downloading python_dotenv-1.1.1-py3-none-any.whl (20 kB)
Downloading openai-1.99.9-py3-none-any.whl (786 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 786.8/786.8 kB 465.9 MB/s eta 0:00:00
Downloading pypdf-6.0.0-py3-none-any.whl (310 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 310.5/310.5 kB 499.7 MB/s eta 0:00:00
Downloading python_docx-1.2.0-py3-none-any.whl (252 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 253.0/253.0 kB 479.5 MB/s eta 0:00:00
Downloading requests-2.32.4-py3-none-any.whl (64 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.8/64.8 kB 326.5 MB/s eta 0:00:00
Downloading annotated_types-0.7.0-py3-none-any.whl (13 kB)
Downloading anyio-4.10.0-py3-none-any.whl (107 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 107.2/107.2 kB 281.2 MB/s eta 0:00:00
Downloading azure_core-1.35.0-py3-none-any.whl (210 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 210.7/210.7 kB 233.4 MB/s eta 0:00:00
Downloading certifi-2025.8.3-py3-none-any.whl (161 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 161.2/161.2 kB 460.6 MB/s eta 0:00:00
Downloading charset_normalizer-3.4.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (150 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 150.3/150.3 kB 360.7 MB/s eta 0:00:00
Downloading click-8.2.1-py3-none-any.whl (102 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 102.2/102.2 kB 359.8 MB/s eta 0:00:00
Downloading cryptography-45.0.6-cp311-abi3-manylinux_2_34_x86_64.whl (4.5 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.5/4.5 MB 258.1 MB/s eta 0:00:00
Downloading distro-1.9.0-py3-none-any.whl (20 kB)
Downloading ecdsa-0.19.1-py2.py3-none-any.whl (150 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 150.6/150.6 kB 459.3 MB/s eta 0:00:00
Downloading email_validator-2.2.0-py3-none-any.whl (33 kB)
Downloading h11-0.16.0-py3-none-any.whl (37 kB)
Downloading httptools-0.6.4-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (459 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 459.8/459.8 kB 490.0 MB/s eta 0:00:00
Downloading httpx-0.28.1-py3-none-any.whl (73 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 73.5/73.5 kB 336.9 MB/s eta 0:00:00
Downloading httpcore-1.0.9-py3-none-any.whl (78 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.8/78.8 kB 340.7 MB/s eta 0:00:00
Downloading idna-3.10-py3-none-any.whl (70 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 70.4/70.4 kB 325.2 MB/s eta 0:00:00
Downloading isodate-0.7.2-py3-none-any.whl (22 kB)
Downloading jiter-0.10.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (352 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 352.2/352.2 kB 314.9 MB/s eta 0:00:00
Downloading lxml-6.0.0-cp311-cp311-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl (5.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.2/5.2 MB 182.6 MB/s eta 0:00:00
Downloading msal-1.33.0-py3-none-any.whl (116 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 116.9/116.9 kB 391.4 MB/s eta 0:00:00
Downloading msal_extensions-1.3.1-py3-none-any.whl (20 kB)
Downloading pyasn1-0.6.1-py3-none-any.whl (83 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 83.1/83.1 kB 286.1 MB/s eta 0:00:00
Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (762 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 763.0/763.0 kB 458.2 MB/s eta 0:00:00
Downloading rsa-4.9.1-py3-none-any.whl (34 kB)
Downloading sniffio-1.3.1-py3-none-any.whl (10 kB)
Downloading sqlalchemy-2.0.43-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.3 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.3/3.3 MB 358.3 MB/s eta 0:00:00
Downloading starlette-0.47.2-py3-none-any.whl (72 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 73.0/73.0 kB 282.6 MB/s eta 0:00:00
Downloading tqdm-4.67.1-py3-none-any.whl (78 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.5/78.5 kB 286.7 MB/s eta 0:00:00
Downloading typing_extensions-4.14.1-py3-none-any.whl (43 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 43.9/43.9 kB 194.8 MB/s eta 0:00:00
Downloading typing_inspection-0.4.1-py3-none-any.whl (14 kB)
Downloading urllib3-2.5.0-py3-none-any.whl (129 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 129.8/129.8 kB 310.4 MB/s eta 0:00:00
Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.0/4.0 MB 359.4 MB/s eta 0:00:00
Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (453 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 453.1/453.1 kB 362.9 MB/s eta 0:00:00
Downloading websockets-15.0.1-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (182 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 182.3/182.3 kB 400.1 MB/s eta 0:00:00
Downloading python_jose-3.5.0-py2.py3-none-any.whl (34 kB)
Downloading cffi-1.17.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (467 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 467.2/467.2 kB 440.2 MB/s eta 0:00:00
Downloading dnspython-2.7.0-py3-none-any.whl (313 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 313.6/313.6 kB 446.7 MB/s eta 0:00:00
Downloading greenlet-3.2.4-cp311-cp311-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (587 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 587.7/587.7 kB 507.0 MB/s eta 0:00:00
Downloading PyJWT-2.10.1-py3-none-any.whl (22 kB)
Downloading six-1.17.0-py2.py3-none-any.whl (11 kB)
Downloading pycparser-2.22-py3-none-any.whl (117 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 117.6/117.6 kB 431.7 MB/s eta 0:00:00
Installing collected packages: websockets, uvloop, urllib3, typing-extensions, tqdm, sniffio, six, pyyaml, python-multipart, python-dotenv, pypdf, PyJWT, pycparser, pyasn1, lxml, jiter, isodate, idna, httptools, h11, greenlet, dnspython, distro, click, charset_normalizer, certifi, annotated-types, uvicorn, typing-inspection, SQLAlchemy, rsa, requests, python-docx, pydantic-core, httpcore, email-validator, ecdsa, cffi, anyio, watchfiles, starlette, python-jose, pydantic, httpx, cryptography, azure-core, sqlmodel, openai, fastapi, azure-storage-blob, azure-cosmos, msal, msal-extensions, azure-identity
Successfully installed PyJWT-2.10.1 SQLAlchemy-2.0.43 annotated-types-0.7.0 anyio-4.10.0 azure-core-1.35.0 azure-cosmos-4.9.0 azure-identity-1.24.0 azure-storage-blob-12.26.0 certifi-2025.8.3 cffi-1.17.1 charset_normalizer-3.4.3 click-8.2.1 cryptography-45.0.6 distro-1.9.0 dnspython-2.7.0 ecdsa-0.19.1 email-validator-2.2.0 fastapi-0.116.1 greenlet-3.2.4 h11-0.16.0 httpcore-1.0.9 httptools-0.6.4 httpx-0.28.1 idna-3.10 isodate-0.7.2 jiter-0.10.0 lxml-6.0.0 msal-1.33.0 msal-extensions-1.3.1 openai-1.99.9 pyasn1-0.6.1 pycparser-2.22 pydantic-2.11.7 pydantic-core-2.33.2 pypdf-6.0.0 python-docx-1.2.0 python-dotenv-1.1.1 python-jose-3.5.0 python-multipart-0.0.20 pyyaml-6.0.2 requests-2.32.4 rsa-4.9.1 six-1.17.0 sniffio-1.3.1 sqlmodel-0.0.24 starlette-0.47.2 tqdm-4.67.1 typing-extensions-4.14.1 typing-inspection-0.4.1 urllib3-2.5.0 uvicorn-0.35.0 uvloop-0.21.0 watchfiles-1.1.0 websockets-15.0.1
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

[notice] A new release of pip is available: 24.0 -> 25.2
[notice] To update, run: pip install --upgrade pip
Removing intermediate container d4d3a4d10094
 ---> 5d7fba4a6367
Step 9/12 : COPY . ./app/
 ---> 9fe0a24e3614
Step 10/12 : RUN mkdir -p data/presets data/engagements
 ---> Running in efb3efe6ed4a
Removing intermediate container efb3efe6ed4a
 ---> 43f4661631fc
Step 11/12 : EXPOSE 8000
 ---> Running in f380f9bbcd20
Removing intermediate container f380f9bbcd20
 ---> f55cd8770698
Step 12/12 : CMD ["python", "-m", "uvicorn", "app.api.main:app", "--host", "0.0.0.0", "--port", "8000"]
 ---> Running in 96d4fcd9a075
Removing intermediate container 96d4fcd9a075
 ---> f8af9239f864
Successfully built f8af9239f864
Successfully tagged acraaademo9lyu53.azurecr.io/ai-maturity-api:v202508151630-8064b777
Successfully tagged acraaademo9lyu53.azurecr.io/ai-maturity-api:latest
2025/08/15 22:31:07 Successfully executed container: build
2025/08/15 22:31:07 Executing step ID: push. Timeout(sec): 3600, Working directory: '', Network: ''
2025/08/15 22:31:07 Pushing image: acraaademo9lyu53.azurecr.io/ai-maturity-api:v202508151630-8064b777, attempt 1
The push refers to repository [acraaademo9lyu53.azurecr.io/ai-maturity-api]
6b5a1cc1ccbf: Preparing
17002b3e7952: Preparing
a6fdc3c7eff8: Preparing
aadd3b2a4328: Preparing
8cba3aae70a8: Preparing
41a3f3e0352a: Preparing
027e5044d8c1: Preparing
a0f52cec0ae9: Preparing
e6a3842ebc7f: Preparing
41a3f3e0352a: Waiting
027e5044d8c1: Waiting
a0f52cec0ae9: Waiting
e6a3842ebc7f: Waiting
aadd3b2a4328: Pushed
8cba3aae70a8: Pushed
41a3f3e0352a: Layer already exists
17002b3e7952: Pushed
027e5044d8c1: Layer already exists
a0f52cec0ae9: Layer already exists
6b5a1cc1ccbf: Pushed
e6a3842ebc7f: Pushed
a6fdc3c7eff8: Pushed
v202508151630-8064b777: digest: sha256:c7ce5842bd2fa87dca91fdca1cf91e376a4706fb253f5b7997698d010c9d3391 size: 2201
2025/08/15 22:31:15 Successfully pushed image: acraaademo9lyu53.azurecr.io/ai-maturity-api:v202508151630-8064b777
2025/08/15 22:31:15 Pushing image: acraaademo9lyu53.azurecr.io/ai-maturity-api:latest, attempt 1
The push refers to repository [acraaademo9lyu53.azurecr.io/ai-maturity-api]
6b5a1cc1ccbf: Preparing
17002b3e7952: Preparing
a6fdc3c7eff8: Preparing
aadd3b2a4328: Preparing
8cba3aae70a8: Preparing
41a3f3e0352a: Preparing
027e5044d8c1: Preparing
a0f52cec0ae9: Preparing
e6a3842ebc7f: Preparing
41a3f3e0352a: Waiting
e6a3842ebc7f: Waiting
027e5044d8c1: Waiting
a0f52cec0ae9: Waiting
aadd3b2a4328: Layer already exists
6b5a1cc1ccbf: Layer already exists
8cba3aae70a8: Layer already exists
a6fdc3c7eff8: Layer already exists
17002b3e7952: Layer already exists
41a3f3e0352a: Layer already exists
027e5044d8c1: Layer already exists
a0f52cec0ae9: Layer already exists
e6a3842ebc7f: Layer already exists
latest: digest: sha256:c7ce5842bd2fa87dca91fdca1cf91e376a4706fb253f5b7997698d010c9d3391 size: 2201
2025/08/15 22:31:16 Successfully pushed image: acraaademo9lyu53.azurecr.io/ai-maturity-api:latest
2025/08/15 22:31:16 Step ID: build marked as successful (elapsed time in seconds: 26.204866)
2025/08/15 22:31:16 Populating digests for step ID: build...
2025/08/15 22:31:18 Successfully populated digests for step ID: build
2025/08/15 22:31:18 Step ID: push marked as successful (elapsed time in seconds: 9.533148)
2025/08/15 22:31:18 The following dependencies were found:
2025/08/15 22:31:18 
- image:
    registry: acraaademo9lyu53.azurecr.io
    repository: ai-maturity-api
    tag: v202508151630-8064b777
    digest: sha256:c7ce5842bd2fa87dca91fdca1cf91e376a4706fb253f5b7997698d010c9d3391
  runtime-dependency:
    registry: registry.hub.docker.com
    repository: library/python
    tag: 3.11-slim
    digest: sha256:9e885f8239c31f8429448f933638dd13037c9119e2a362aeebdd37ec3bee7c85
  git: {}
- image:
    registry: acraaademo9lyu53.azurecr.io
    repository: ai-maturity-api
    tag: latest
    digest: sha256:c7ce5842bd2fa87dca91fdca1cf91e376a4706fb253f5b7997698d010c9d3391
  runtime-dependency:
    registry: registry.hub.docker.com
    repository: library/python
    tag: 3.11-slim
    digest: sha256:9e885f8239c31f8429448f933638dd13037c9119e2a362aeebdd37ec3bee7c85
  git: {}

Run ID: cx2a was successful after 40s
[0;32m✓ API image built: acraaademo9lyu53.azurecr.io/ai-maturity-api:v202508151630-8064b777[0m
[1;33m3. Building and pushing Web image...[0m
Building Web image: ai-maturity-web:v202508151631-8064b777
WARNING: Packing source code into tar to upload...
WARNING: Uploading archived source code from '/var/folders/zf/6z4j2b5x3hbcj3ntw022m4mr0000gn/T/build_archive_e8cb727dde74443990a314d9240bff5b.tar.gz'...
WARNING: Sending context (94.024 MiB) to registry: acraaademo9lyu53...
WARNING: Queued a build with ID: cx2b
WARNING: Waiting for an agent...
2025/08/15 22:32:11 Downloading source code...
2025/08/15 22:32:16 Finished downloading source code
2025/08/15 22:32:17 Using acb_vol_8e1108c6-f327-4924-b8f9-3a1d91b597b0 as the home volume
2025/08/15 22:32:17 Setting up Docker configuration...
2025/08/15 22:32:17 Successfully set up Docker configuration
2025/08/15 22:32:17 Logging in to registry: acraaademo9lyu53.azurecr.io
2025/08/15 22:32:18 Successfully logged into acraaademo9lyu53.azurecr.io
2025/08/15 22:32:18 Executing step ID: build. Timeout(sec): 28800, Working directory: '', Network: ''
2025/08/15 22:32:18 Scanning for dependencies...
2025/08/15 22:32:18 Successfully scanned dependencies
2025/08/15 22:32:18 Launching container with name: build
Sending build context to Docker daemon  433.7kB
Step 1/26 : FROM node:20-alpine AS builder
20-alpine: Pulling from library/node
9824c27679d3: Pulling fs layer
8c59d92d6fc9: Pulling fs layer
54225bd60196: Pulling fs layer
a9e48ad1219d: Pulling fs layer
a9e48ad1219d: Waiting
54225bd60196: Verifying Checksum
54225bd60196: Download complete
9824c27679d3: Verifying Checksum
9824c27679d3: Download complete
a9e48ad1219d: Verifying Checksum
a9e48ad1219d: Download complete
9824c27679d3: Pull complete
8c59d92d6fc9: Verifying Checksum
8c59d92d6fc9: Download complete
8c59d92d6fc9: Pull complete
54225bd60196: Pull complete
a9e48ad1219d: Pull complete
Digest: sha256:df02558528d3d3d0d621f112e232611aecfee7cbc654f6b375765f72bb262799
Status: Downloaded newer image for node:20-alpine
 ---> 7cdef5a33192
Step 2/26 : WORKDIR /app
 ---> Running in e9fecda38eb8
Removing intermediate container e9fecda38eb8
 ---> 2503cf1ffbb0
Step 3/26 : ARG GIT_SHA=unknown
 ---> Running in f06600ad0ea8
Removing intermediate container f06600ad0ea8
 ---> 42cbb036db6a
Step 4/26 : ARG BUILD_TIME=unknown
 ---> Running in 09a7f7f99607
Removing intermediate container 09a7f7f99607
 ---> 0f698c2b15f4
Step 5/26 : ARG APP_VERSION=0.1.0
 ---> Running in f219cee17837
Removing intermediate container f219cee17837
 ---> a1b9876a0ebd
Step 6/26 : ARG NEXT_PUBLIC_API_BASE_URL=""
 ---> Running in 2f28094eef3e
Removing intermediate container 2f28094eef3e
 ---> f6822c1b15b0
Step 7/26 : COPY package.json package-lock.json* pnpm-lock.yaml* yarn.lock* ./
 ---> 39c69c50db65
Step 8/26 : RUN   if [ -f package-lock.json ]; then npm ci;   elif [ -f pnpm-lock.yaml ]; then npm i -g pnpm && pnpm i --frozen-lockfile;   elif [ -f yarn.lock ]; then yarn install --frozen-lockfile;   else npm i; fi
 ---> Running in 38bc8652780c
npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported

added 433 packages, and audited 434 packages in 14s

154 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 low, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
npm notice
npm notice New major version of npm available! 10.8.2 -> 11.5.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2
npm notice To update run: npm install -g npm@11.5.2
npm notice
Removing intermediate container 38bc8652780c
 ---> 2252c2949dd5
Step 9/26 : ENV NEXT_PUBLIC_API_BASE_URL=$NEXT_PUBLIC_API_BASE_URL     NEXT_PUBLIC_GIT_SHA=$GIT_SHA     NEXT_PUBLIC_BUILD_TIME=$BUILD_TIME     NEXT_PUBLIC_APP_VERSION=$APP_VERSION
 ---> Running in 1c5b449b64c3
Removing intermediate container 1c5b449b64c3
 ---> 4b33040b74ed
Step 10/26 : COPY . .
 ---> 6afbfb18ca3f
Step 11/26 : RUN mkdir -p public
 ---> Running in 45bdf155137b
Removing intermediate container 45bdf155137b
 ---> 6ed3477aaf57
Step 12/26 : RUN npm run build
 ---> Running in 275f4bc34bd1

> ai-maturity-web@0.1.0 build
> next build

Attention: Next.js now collects completely anonymous telemetry regarding usage.
This information is used to shape Next.js' roadmap and prioritize features.
You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
https://nextjs.org/telemetry

  ▲ Next.js 14.2.5

   Creating an optimized production build ...
 ⚠ Compiled with warnings

./app/signin/page.tsx
Attempted import error: 'setEmail' is not exported from '@/lib/auth/demo' (imported as 'setEmail').

Import trace for requested module:
./app/signin/page.tsx

./components/TopNav.tsx
Attempted import error: 'isAdmin' is not exported from '@/lib/auth/demo' (imported as 'isAdmin').

Import trace for requested module:
./components/TopNav.tsx


 ⚠ Compiled with warnings

./app/signin/page.tsx
Attempted import error: 'setEmail' is not exported from '@/lib/auth/demo' (imported as 'setEmail').

Import trace for requested module:
./app/signin/page.tsx

./components/TopNav.tsx
Attempted import error: 'isAdmin' is not exported from '@/lib/auth/demo' (imported as 'isAdmin').

Import trace for requested module:
./components/TopNav.tsx

 ✓ Compiled successfully
   Linting and checking validity of types ...
Failed to compile.

./app/signin/page.tsx:5:10
Type error: Module '"@/lib/auth/demo"' has no exported member 'setEmail'.

  3 | import { useState } from "react";
  4 | import { useRouter } from "next/navigation";
> 5 | import { setEmail } from "@/lib/auth/demo";
    |          ^
  6 |
  7 | export default function SignIn() {
  8 |   const [email, setEmailInput] = useState("");
The command '/bin/sh -c npm run build' returned a non-zero code: 1
2025/08/15 22:33:27 Container failed during run: build. No retries remaining.
failed to run step ID: build: exit status 1

Run ID: cx2b failed after 1m16s. Error: failed during run, err: exit status 1
ERROR: Run failed
