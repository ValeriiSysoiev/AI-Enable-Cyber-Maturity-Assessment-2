[1;33m=== Live Application Verification ===[0m
Admin Email: va.sysoiev@audit3a.com
Preset File: imports/preset_cscm_v3.json
Log file: logs/reports/run-20250816-115913-verify.log
Started: Sat Aug 16 11:59:13 MDT 2025

[1;33m1. Discovering application URLs...[0m
WARNING: The behavior of this command has been altered by the following extension: containerapp
WARNING: The behavior of this command has been altered by the following extension: containerapp
API URL: https://api-aaa-demo.bravewater-3d70a706.canadacentral.azurecontainerapps.io
Web URL: https://web-aaa-demo.bravewater-3d70a706.canadacentral.azurecontainerapps.io
[1;33m2. Testing basic endpoints...[0m
Testing API health...
[0;32m‚úì API health: {"status":"ok"}[0m
Testing API version...
[1;33m‚ö† API version endpoint may not be available: {"detail":"Not Found"}[0m
Testing API docs...
[0;32m‚úì API docs: HTTP 200[0m
Testing Web app...
[0;32m‚úì Web app: HTTP 200[0m
Testing Web version...
[1;33m‚ö† Web proxy version may not be available: {"detail":"Not Found"}[0m
Testing Admin Ops via Web proxy...
[1;33m‚ö† Admin Ops endpoint returned HTTP 404[0m
[1;33m3. Testing CORS preflight...[0m
Testing CORS preflight to POST /presets/upload...
CORS preflight response headers (first 40 lines):
HTTP/2 200 
date: Sat, 16 Aug 2025 17:59:20 GMT
server: uvicorn
vary: Origin
access-control-allow-methods: DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT
access-control-max-age: 600
access-control-allow-credentials: true
access-control-allow-origin: https://web-aaa-demo.bravewater-3d70a706.canadacentral.azurecontainerapps.io
access-control-allow-headers: X-User-Email,X-Engagement-ID,Content-Type
content-length: 2
content-type: text/plain; charset=utf-8

OK
[0;32m‚úì CORS preflight passed[0m
[1;33m4. Testing preset upload via web proxy...[0m
Uploading imports/preset_cscm_v3.json via web app proxy...
Upload response: HTTP 200
Response body: {"id":"cscm-v3","name":"Cyber Security Capability Model v3","version":"3.0"}
[0;32m‚úì Preset upload successful (HTTP 200)[0m
[1;33m5. Creating test engagement via web proxy...[0m
[0;32m‚úì Engagement created: 107f7683-d3f1-4bbb-9ac5-5cae2389cd3d[0m
[1;33m6. Checking engagement membership...[0m
Adding self as engagement lead...
[1;33m‚ö† Member add returned 422 - debugging info:[0m
Response body: {"detail":[{"type":"missing","loc":["header","X-Engagement-ID"],"msg":"Field required","input":null}]}
Continuing with verification...
[1;33m7. Creating CSCM v3 assessment via web proxy...[0m
[0;32m‚úì Assessment created: cdf3caa5-b671-484f-b715-1a8de680638b[0m
[1;33m8. Testing scoring endpoints...[0m
Testing compute scores...
[1;33m‚ö† Compute scores returned HTTP 500 - may not be fully implemented[0m
[1;33m‚ö† Skipping get scores and export tests - compute was not successful[0m
[1;33m9. Testing analyze endpoint...[0m
[1;33m‚ö† Analyze endpoint returned HTTP 422 (non-blocking)[0m
Response: {"detail":[{"type":"missing","loc":["header","X-Engagement-ID"],"msg":"Field required","input":null}]}
[1;33m10. Testing recommend endpoint...[0m
[1;33m‚ö† Skipping recommend test - analyze was not successful[0m

[0;32m=== Live Verification Complete ===[0m

[1;33mTest Results Summary:[0m
./scripts/verify_live.sh: line 366: GET_SCORES_STATUS: unbound variable
./scripts/verify_live.sh: line 366: PPTX_STATUS: unbound variable
API Health: ‚úÖ
API Docs: ‚úÖ
Web App: ‚úÖ
CORS Preflight: ‚úÖ
Preset Upload: ‚úÖ
Engagement Creation: ‚úÖ
Assessment Creation: ‚úÖ
AI Analysis: ‚ö†Ô∏è (optional)
AI Recommendations: ‚ö†Ô∏è (optional)

[1;33mBrowser Deep Links:[0m
üìä Engagement Dashboard: https://web-aaa-demo.bravewater-3d70a706.canadacentral.azurecontainerapps.io/e/107f7683-d3f1-4bbb-9ac5-5cae2389cd3d/dashboard
üÜï New Assessment: https://web-aaa-demo.bravewater-3d70a706.canadacentral.azurecontainerapps.io/e/107f7683-d3f1-4bbb-9ac5-5cae2389cd3d/new
‚öôÔ∏è  Admin Presets: https://web-aaa-demo.bravewater-3d70a706.canadacentral.azurecontainerapps.io/admin/presets
üîß Admin Ops: https://web-aaa-demo.bravewater-3d70a706.canadacentral.azurecontainerapps.io/admin/ops
üìã Engagements: https://web-aaa-demo.bravewater-3d70a706.canadacentral.azurecontainerapps.io/engagements
üìñ API Docs: https://api-aaa-demo.bravewater-3d70a706.canadacentral.azurecontainerapps.io/docs

[1;33mCreated Test Data:[0m
Engagement ID: 107f7683-d3f1-4bbb-9ac5-5cae2389cd3d
Assessment ID: cdf3caa5-b671-484f-b715-1a8de680638b

[1;33mReports Generated:[0m
Verification log: logs/reports/run-20250816-115913-verify.log
Summary: logs/reports/run-20250816-115913-verify-summary.md

[0;32m‚úÖ All critical paths verified successfully![0m
